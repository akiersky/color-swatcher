{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/color-swatcher.js","webpack://exports/external \"sketch\""],"names":["doc","sketch","getSelectedDocument","page","selectedPage","artboard","selectedLayers","selectedCount","length","createStylesheet","UI","message","i","fillcolor","layers","style","fills","color","slice","position","parentOffsetInArtboard","log","x","y","createSwatch","styles","sharedLayerStyles","group","Group","parent","name","s","hasOwnProperty","stylecolor","layer","offset","layerOffset","frame","width","type","parentRect","pos","swatch","Rectangle","rectcolor","Shape","borders","enabled","rectwhite","rectblack","whitecontrast","contrast","hexToRgb","toFixed","whiteratio","Text","text","checkWCAG","blackcontrast","blackratio","contrastColor","textcolor","fixedWidth","luminanace","r","g","b","a","map","v","Math","pow","rgb1","rgb2","result","ratio","hex","exec","parseInt"],"mappings":"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","file":"color-swatcher.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/color-swatcher.js\");\n","import sketch from 'sketch'\n\nconst doc = sketch.getSelectedDocument()  \nconst page = doc.selectedPage\nlet artboard = doc.selectedPage;\n\nexport default function() {\n\tconst selectedLayers = doc.selectedLayers\n\tconst selectedCount = selectedLayers.length\n \n\n\tif (selectedCount == 0) {\n\t\tcreateStylesheet(doc);\n\n  \t\tsketch.UI.message(\"Swatch stylesheet generated 🙌\")\n\t} \n\telse {\n\t\tfor (let i = 0; i < selectedCount; i++) {\n\t\t\tconst fillcolor = doc.selectedLayers.layers[i].style.fills[0].color.slice(0, 7)\n\t\t\tconst position = parentOffsetInArtboard(doc.selectedLayers.layers[i]);\n\t\t\tlog(`position: ` + position.x + \" : \" + position.y)\n\t\t\tcreateSwatch(fillcolor, 0, artboard, position);\n\t\t}\n  \t\tsketch.UI.message(\"Swatch generated 🙌\")\n\t}\n}\n\nfunction createStylesheet(doc) {\n\tconst styles = doc.sharedLayerStyles;\n\t//log(styles)\n\n\tconst group = new sketch.Group({\n\t\tparent:page,\n\t\tname: \"Styles\"\n\t})\n\n\tfor (let s in styles) {\n\t\tif(styles.hasOwnProperty(s)){\n\t\t\t//log(styles[s].name)\n\t\t\tconst stylecolor = styles[s].style.fills[0].color.slice(0, 7)\n\t\t\tcreateSwatch(stylecolor, s, group)\n\t\t}\n\t}\n}\n\n//find layer position relative to artboard\nfunction parentOffsetInArtboard (layer) {\n  let offset = {x: 0, y: 0};\n  let parent = layer.parent;\n  let layerOffset = {x: layer.frame.x + layer.frame.width, y: layer.frame.y};\n  log('layerOffset' + layerOffset.x + ' : ' + layerOffset.y)\n  while (parent.type !== 'Artboard') {\n    offset.x += parent.frame.x;\n    offset.y += parent.frame.y;\n    parent = parent.parent;\n  }\n  artboard = parent;\n  offset.x += layerOffset.x;\n  offset.y += layerOffset.y;\n\n  return offset;\n}\n\nfunction createSwatch(color, offset, artboard, parentRect) {\n\tlet pos = (parentRect) ? {x: parentRect.x +10, y: parentRect.y} : {x: 110*offset, y:0};\n\tlog(`pos: ` + pos.x + \" : \"+ pos.y);\n\n\t// group for the created swatch\n\tconst swatch = new sketch.Group({\n\t\tparent:artboard,\n\t\tname: color + \" swatch\",\n\t\tframe: new sketch.Rectangle(pos.x, pos.y, 100, 100)\n\t})\n\t// rectangle background same color as the swatch\n\tconst rectcolor = new sketch.Shape({\n\t\tparent: swatch,\n\t\tframe: new sketch.Rectangle(0, 0, 100, 40),\n\t\tstyle: {fills: [{ color: color }], borders: [{enabled:false}] }\n\t})\n\t// rectangle background same color as the swatch\n\tconst rectwhite = new sketch.Shape({\n\t\tparent: swatch,\n\t\tframe: new sketch.Rectangle(0, 40, 100, 40),\n\t\tstyle: {fills: [{ color: '#ffffff' }], borders: [{enabled:false}] }\n\t})\n\t// rectangle background same color as the swatch\n\tconst rectblack = new sketch.Shape({\n\t\tparent: swatch,\n\t\tframe: new sketch.Rectangle(0, 80, 100, 40),\n\t\tstyle: {fills: [{ color: '#000000' }], borders: [{enabled:false}] }\n\t})\n\n\t//text showing contrast against white\n\tconst whitecontrast = contrast([255, 255, 255], hexToRgb(color)).toFixed(1)\n\n\tconst whiteratio = new sketch.Text({\n\t\tparent: swatch,\n\t\ttext: whitecontrast + \":1 \" + checkWCAG(whitecontrast),\n\t\tframe: new sketch.Rectangle(8, 55, 92, 40),\n\t\tstyle: {fills: [{ color: '#000000' }], borders: [{enabled:false}] }\n\t})\n\n\t//text showing contrast against black\n\tconst blackcontrast = contrast([0, 0, 0], hexToRgb(color)).toFixed(1)\n\tconst blackratio = new sketch.Text({\n\t\tparent: swatch,\n\t\ttext: blackcontrast + \":1 \" + checkWCAG(blackcontrast),\n\t\tframe: new sketch.Rectangle(8, 95, 92, 40),\n\t\tstyle: {fills: [{ color: '#ffffff' }], borders: [{enabled:false}] }\n\t})\n\n\tconst contrastColor = (whitecontrast / blackcontrast > 1) ? '#ffffff' : '#000000'\n\t// text showing the color of the swatch\n\tconst textcolor = new sketch.Text({\n\t\tparent: swatch,\n\t\ttext: color,\n\t\tfixedWidth: true,\n\t\tframe: new sketch.Rectangle(8, 15, 92, 40),\n\t\tstyle: {fills: [{ color: contrastColor }], borders: [{enabled:false}] }\n\t})\n\n\t// log(whitecontrast)\n\t// log(blackcontrast)\n}\n////////////////////////////////// HELPER FUNCTIONS/////////////////////////////////\n// from: https://stackoverflow.com/questions/9733288/how-to-programmatically-calculate-the-contrast-ratio-between-two-colors\n// calculate luminanace of a color\nfunction luminanace(r, g, b) {\n    let a = [r, g, b].map(function (v) {\n        v /= 255\n        return v <= 0.03928\n            ? v / 12.92\n            : Math.pow( (v + 0.055) / 1.055, 2.4 )\n    });\n    return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722\n}\n//calculate contrast between two rgb colors\nfunction contrast(rgb1, rgb2) { \n\tlet result = (luminanace(rgb1[0], rgb1[1], rgb1[2]) + 0.05) \n\t\t\t   / (luminanace(rgb2[0], rgb2[1], rgb2[2]) + 0.05); \n\tif (result < 1) result = 1/result; \n\treturn result; \n}\n\n// WCAG 2 level AA requires a contrast ratio of at least 4.5:1 for normal text \n//and 3:1 for large text, and a contrast ratio of at least 3:1 for graphics \n//and user interface components (such as form input borders). \n//Level AAA requires a contrast ratio of at least 7:1 for normal text and 4.5:1 for large text.\n\n//Large text is defined as 14 point (typically 18.66px) and bold or larger, \n//or 18 point (typically 24px) or larger.\n\nfunction checkWCAG(ratio) {\n\tif (ratio >= 7) {\n\t\treturn '✔︎'\n\t} else if (ratio >= 4.5) {\n\t\treturn 'Large AAA'\n\t} else if (ratio >= 3) {\n\t\treturn 'Large AA'\n\t} else {\n\t\treturn '✘'\n\t}\n}\n\n// from: https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n//convert from hex to rgb\nfunction hexToRgb(hex) {\n    let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n    return result ? [\n        parseInt(result[1], 16),\n        parseInt(result[2], 16),\n        parseInt(result[3], 16)\n    ] : null\n}\n\n","module.exports = require(\"sketch\");"],"sourceRoot":""}